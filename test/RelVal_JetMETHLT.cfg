process PRODJETMETHLT  = {

#############################################################
#                                                           #
#   complete GEN-SIM-DIGI-RECO chain for JetMET HLT paths   #
#                                                           #
#############################################################

   # initialize  MessageLogger
   include "FWCore/MessageService/data/MessageLogger.cfi"
   replace MessageLogger.cout.threshold = "ERROR"
   replace MessageLogger.cerr.default.limit = 10

   service = RandomNumberGeneratorService
   {
      untracked uint32 sourceSeed = 1234567
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 9876543
         untracked uint32 g4SimHits = 9876
      }
   }
   
  source = PythiaSource 
  { 
  untracked int32 maxEvents = 2
  untracked int32 pythiaPylistVerbosity = 0
  untracked bool pythiaHepMCVerbosity = false
  untracked int32 maxEventsToPrint = 0

  PSet PythiaParameters = {

    # This is a vector of ParameterSet names to be read, in this order
    vstring parameterSets = {
      "pythiaUESettings", 
      "processParameters"
    }

  include "Configuration/Generator/data/PythiaUESettings.cfi"

  vstring processParameters = {
		'MSEL=1                 ! QCD high pT processes',
		'CKIN(3)=800.          ! minimum pt hat for hard interactions',
		'CKIN(4)=1000.          ! maximum pt hat for hard interactions'    
	    }
	    
	}
  }
  # Simulation and Digitization
  include "Configuration/StandardSequences/data/Simulation.cff"
  include "Configuration/StandardSequences/data/VtxSmearedGauss.cff" 
  include "Configuration/StandardSequences/data/MixingNoPileUp.cff"

  path p0 = {simulation}


  # unpacking and level-1 setup
  include "HLTrigger/Configuration/data/common/HLTSetup.cff"
  # do Jet reconstruction
  include "HLTrigger/Configuration/data/common/CaloTowers.cff"
  include "HLTrigger/Configuration/data/common/RecoJetMET.cff"
  sequence recoJetMETPath = {doLocalCalo, doCaloFromDigis, (doHLTJetReco & doHLTMETReco & doHLTHTReco)}

  # -- l1extra from MCTruth
  #include "HLTrigger/JetMET/data/l1seeds_fromMCTruth.cff"
  #sequence l1prod = {doL1TfromMCTruth}
    
  # -- l1emulator from MC Digis
  include "HLTrigger/JetMET/data/l1seeds_fromGCT.cff"
  sequence l1prod = {doL1TfromDigis}

  # the JetMet trigger paths
  include "HLTrigger/JetMET/test/JetMET_paths.cff"


  module GEN-SIM = PoolOutputModule 
  { 
    using FEVTSIMEventContent
    untracked string fileName = "file:RelVal_JetMETHLT_pt_800_1000.root"
    untracked PSet datasets ={
	untracked PSet dataset1 = {
	    untracked string dataTier = "GEN"
	}
        untracked PSet dataset2 = {
            untracked string dataTier = "SIM"
     	}
    }
 }

 endpath outpath = {GEN-SIM}

 schedule = { p0,
	HLT1jet, HLT2jet, HLT3jet, HLT4jet,
	HLT1MET,HLT2jetAco, HLT1jet1METAco,
	HLT1jet1MET,HLT2jet1MET,HLT3jet1MET,HLT4jet1MET,
	HLT2jetvbfMET,
	HLT1MET1HT,
	HLT1jetPE1,HLT1jetPE3,HLT1jetPE5,
	outpath }

}


